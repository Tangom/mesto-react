{"version":3,"sources":["images/header.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","alt","src","logo","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","onCardDelete","type","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","buttonName","ImagePopup","AddPlacePopup","nameRef","useRef","linkRef","evt","preventDefault","current","value","id","maxLength","minLength","placeholder","required","ref","EditAvatarPopup","avatarRef","onUpdateAvatar","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","target","api","options","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","data","body","JSON","stringify","item","like","deleteLike","putLikeCard","all","getUser","getInitialCards","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isPopupConfirm","setIsPopupConfirm","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getAllData","profile","catch","err","console","log","Provider","changeLikeStatus","newCard","newCards","c","deleteCard","filter","patchProfileEditing","patchUserAvatar","postAddCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.7fb96edf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header.c2821b38.svg\";","import logo from \"../images/header.svg\"\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img alt=\"Логотип заголовка\" className=\"header__logo\" src={logo}/>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  const cardDeleteButtonClassName = `element__deleted ${!isOwn ? 'element__deleted_disable' : ''}`;\n  const cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_active' : ''}`;\n\n  function handleCardClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card)\n  }\n\n  return (\n    <div className=\"element\">\n      <button className={cardDeleteButtonClassName} onClick={handleCardDelete} type=\"button\"></button>\n      <img className=\"element__image\" onClick={handleCardClick} src={props.card.link} alt={props.card.name}/>\n      <div className=\"element__content\">\n        <h2 className=\"element__text\">{props.card.name}</h2>\n        <div className=\"element__content-like\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n          <p className=\"element__result\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button className=\"profile__avatar-image\" onClick={props.onEditAvatar} type=\"button\">\n          <img alt=\"Портрет\" className=\"profile__avatar\" src={currentUser.avatar}/>\n        </button>\n        <div className=\"profile__input\">\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name-field\">{currentUser.name}</h1>\n            <p className=\"profile__career-field\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__edit\" onClick={props.onEditProfile} type=\"button\">\n          </button>\n        </div>\n        <button className=\"profile__add-image\" onClick={props.onAddPlace} type=\"button\">\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        {props.cards.map(card =>\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        )}\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020. Александр Чигарев</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function PopupWithForm(props) {\n\n    return (\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <button onClick={props.onClose} type=\"button\" className={`popup__close popup__close_${props.name}`}></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form className={`popup__form popup__form_${props.name}`} name=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n          <fieldset className=\"popup__form-set\">\n            {props.children}\n            <button className=\"popup__save\" type=\"submit\">{props.buttonName}</button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_photo ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_photo\">\n        <button onClick={props.onClose} className=\"popup__close popup__close_image\" type=\"button\"></button>\n        <img alt={`${props.card.name}`} src={`${props.card.link}`} className=\"popup__image\"/>\n        <h2 className=\"popup__text\">{props.card.name}</h2>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const nameRef = React.useRef();\r\n  const linkRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onAddPlace({\r\n      name: nameRef.current.value,\r\n      link: linkRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='card'\r\n      title='Новое место'\r\n      buttonName='Создать'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n\r\n      children={\r\n        <>\r\n          <input className=\"popup__field popup__field_place\" id='place-input' maxLength=\"30\" minLength=\"1\"\r\n                 name=\"place\"\r\n                 placeholder=\"Название\" required type=\"text\" ref={nameRef}/>\r\n          <span className='popup__form-error' id='place-input-error'></span>\r\n          <input className=\"popup__field popup__field_link\" id='link-input' name=\"link\"\r\n                 placeholder=\"Ссылка на картинку\"\r\n                 required type=\"url\" ref={linkRef}/>\r\n          <span className='popup__form-error' id='link-input-error'></span>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Обновить аватар'\r\n      buttonName='Сохранить'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n\r\n      children={\r\n        <>\r\n          <input className=\"popup__field popup__field_link\" id='link-avatar-input' name=\"avatar\"\r\n                 placeholder=\"Ссылка на картинку\"\r\n                 required type=\"url\" ref={avatarRef}/>\r\n          <span className='popup__form-error' id='link-avatar-input-error'></span>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      buttonName='Сохранить'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n\r\n      children={\r\n        <>\r\n          <input className=\"popup__field popup__field_name\" id='name-input' maxLength=\"40\" minLength=\"2\" name=\"name\"\r\n                 placeholder=\"Имя\" required type=\"text\" value={name} onChange={handleChangeName}/>\r\n          <span className='popup__form-error' id='name-input-error'></span>\r\n          <input className=\"popup__field popup__field_career\" id='career-input' maxLength=\"200\" minLength=\"2\"\r\n                 name=\"about\"\r\n                 placeholder=\"О себе\" required type=\"text\" value={description} onChange={handleChangeDescription}/>\r\n          <span className='popup__form-error' id='career-input-error'></span>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;"," class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  getUser() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  patchProfileEditing(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  patchUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n  }\n\n  postAddCard(item) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: item.name,\n        link: item.link\n      })\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._url}/cards/${data._id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n   changeLikeStatus(data, like) {\n     if (like) {\n       return this.deleteLike(data);\n     } else {\n       return this.putLikeCard(data);\n     }\n   }\n\n   deleteLike(data) {\n    return fetch(`${this._url}/cards/likes/${data._id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  putLikeCard(data) {\n    return fetch(`${this._url}/cards/likes/${data._id}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  getAllData() {\n    return Promise.all([this.getUser(), this.getInitialCards()]);\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: 'ee9064d2-31dc-4f39-a99f-b246f99cc62c',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport api from '../utils/Api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isPopupConfirm, setIsPopupConfirm] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeStatus(card, isLiked).then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      // Обновляем стейт\n      setCards(newCards);\n    })\n  .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    setIsPopupConfirm(true);\n    api.deleteCard(card)\n      .then(() => {\n        const newCards = cards.filter((i) => {\n          return i._id !== card._id;\n        });\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  React.useEffect(() => {\n    api.getAllData()\n      .then((data) => {\n        const [profile, cards] = data;\n        setCards(cards);\n        setCurrentUser(profile)\n      })\n      .catch((err) => console.log(err));\n  }, [])\n\n  function handleUpdateUser(data) {\n    api.patchProfileEditing(data)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api.patchUserAvatar(data)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.postAddCard(data)\n      .then(\n        (newCard) => {\n          setCards([newCard, ...cards]);\n          closeAllPopups();\n        })\n      .catch((err) => console.log(err));\n  }\n\n  function handleEditProfile() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlace() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatar() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCard(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <Header/>\n      <Main\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n        onEditProfile={handleEditProfile}\n        onAddPlace={handleAddPlace}\n        onEditAvatar={handleEditAvatar}\n        onCardClick={handleCard}\n      />\n      <Footer/>\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n\n      <PopupWithForm\n        isOpen={isPopupConfirm}\n        name=\"confirm\"\n        title=\"Вы уверены?\"\n        buttonName=\"Да\"\n      />\n\n      <ImagePopup\n        card={selectedCard}\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('.root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}